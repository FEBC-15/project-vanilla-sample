# 2장 프로젝트 생성에서 배포까지

## 1. 프로젝트 생성

### 1.1 레포지토리 생성

#### 깃허브 접속
- https://github.com 접속
  + 로그인

#### 레포지토리 생성
- Repositories > New repository
  - Repository name: `project-vanilla-sample`
  - Description: FrontEnd BootCamp 15기 바닐라 프로젝트 샘플
  - Public 선택
  - Create repository

### 1.2 개발 환경 구축

#### 툴체인
- 개발 과정에서 필요한 여러 단계를 자동화하고 일관성을 유지하게 도와주는 역할의 도구 모음
- 보일러 플레이트 코드 제공: 프로젝트 초기 설정을 자동화하여 빠르게 시작
- 프로젝트 설정 파일 자동 구성: 필요 설정을 미리 구성하여 복잡한 설정을 쉽게 작성
- 라이브러리 설치: 필수 라이브러리를 자동으로 설치
- HMR(Hot Module Replacement): 코드 변경 시 페이지를 새로고침하지 않고 실시간으로 변경 사항을 반영
- 프로덕션 배포용 번들링: 코드와 리소스를 최적화하여 실제 배포 시 용량을 줄이고 성능을 높임

#### Vite
- Vanilla JS, React, Svelte, Solid 등의 다양한 프론트앤드 개발 환경을 지원하는 툴체인

#### Vite로 프로젝트 초기화
- 프로젝트를 저장할 폴더 생성 후 생성한 폴더로 이동
  + 예, `c:/febc15`

```sh
npm create vite@latest project-vanilla-sample
```

```sh
Need to install the following packages:
create-vite@8.0.2
Ok to proceed? (y) y

Select a framework:
│  ● Vanilla
│  ○ Vue
│  ○ React
│  ○ Preact
│  ○ Lit
│  ○ Svelte
│  ○ Solid
│  ...
│
◆  Select a variant:
│  ● TypeScript
│  ○ JavaScript
│
◆  Use rolldown-vite (Experimental)?:
│  ○ Yes
│  ● No
│
◆  Install with npm and start now?
│  ● Yes / ○ No
│
◇  Scaffolding project in C:/febc15/project-vanilla-sample...
│
◇  Installing dependencies with npm...

added 15 packages, and audited 16 packages in 6s

5 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
│
◇  Starting dev server...

> project-vanilla-sample@0.0.0 dev
> vite

  VITE v7.1.12  ready in 820 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
  ➜  press h + enter to show help
```

#### VSCode로 생성한 프로젝트 오픈
```sh
cd project-vanilla-sample
code .
```

#### MPA 설정
- Vite는 SPA(Single Page Application)를 위한 툴 체인이므로 기본은 index.html 하나만 사용되며 404에러가 발생하면 index.html로 응답함(fallback)
- 여러 html 페이지를 사용하는 MPA(Multi Page Application) 방식의 웹사이트를 위해서는 vite 설정 파일의 rollupOptions에 각 html 페이지를 등록해야 하고 SPA대신 MPA 스타일의 앱임을 알려주어야 함

- project-vanilla-sample 폴더에(프로젝트 루트) vite.config.js 파일 생성
```js
import { defineConfig } from 'vite';

export default defineConfig({
  build: {
    rollupOptions: {
      input: {
        // 메인 페이지
        index: 'index.html'
      },
    },
  },
  appType: 'mpa', // fallback 사용안함
});
```

#### 프로젝트 루트에 .gitignore 파일 생성
- 프로젝트에서 불필요한 파일은 git에서 관리하지 않도록 추가

```sh
cd project-vanilla-sample
npx add-gitignore node,windows,osx,visualstudiocode
```

```sh
Need to install the following packages:
add-gitignore@1.1.1
Ok to proceed? (y) y
```

#### 개발 서버 실행

```sh
npm run dev
```

#### 서버 접속 테스트

- 개발 서버 실행 후 터미널의 안내 메세지에 따라 웹 브라우저로 접속
  - http://localhost:5173

#### Git 레포지토리에 push

- Git 초기화

```sh
git init
```

- Git 원격 레포지토리 연결
 
```sh
git remote add origin https://github.com/계정/project-vanilla-sample.git
```
  
- 첫번째 커밋

```sh
# 현재 폴더를 포함한 하위의 모든 변경사항을 스테이징 영역에 추가
git add .
# 스테이징 영역에 있는 변경사항을 커밋으로 기록
git commit -m "initial commit"
# 브랜치 이름을 강제로 변경(master일 경우 main으로)
git branch -M main
# 업스트림을 origin/main으로 지정한후 push
git push -u origin main
# 만약 원격 레포지토리에 .gitignore 같은 파일이 이미 있어서 충돌날 경우 강제로 push
git push -u origin main --force
```

## 2. 프로젝트 배포

- 개발이 완료된 프로젝트(웹사이트나 애플리케이션)를 사용자들이 실제로 사용할 수 있도록 서버나 호스팅 플랫폼에 업로드하는 과정
- 배포가 완료되면 사용자는 해당 애플리케이션에 접근하고 실행할 수 있음

### 2.1 빌드

- 배포용 파일 생성
  ```sh
  npm run build
  ```
  - 지정한 폴더에 프로덕션 배포용 파일 생성(Vite는 dist 폴더에 배포)
  - 트랜스파일링: ES6+ 문법을 지원하지 않는 구 버전의 브라우저를 위해 ES5 수준의 코드로 변환
  - 압축: 주석 제거, 변수명 축약, 화이트 스페이스 제거
  - 번들링: 여러 자바스크립트 파일을 하나 또는 몇개의 파일로 묶는 작업 (Webpack, Rollup, Parcel, Esbuild 등)
  - 트리 쉐이킹: 번들링 과정에서 불필요한 코드(사용하지 않는 함수나 모듈)를 식별하고 제거
  - css 파일도 번들링, 압축됨

### 2.2 로컬 테스트

- 서버 구동

```sh
npm run preview
```

- 서버 실행 후 터미널의 안내 메세지에 따라 웹 브라우저로 접속
  - http://localhost:4173

### 2.3 서비스 배포

#### Netlify
- 프론트엔드 개발자를 위한 웹 배포 플랫폼으로, 코드가 저장소에 푸시되면 자동으로 빌드와 배포가 수행됨.
- 별도 서버 설정 없이 손쉽게 웹사이트가 자동 배포되는 플랫폼
- GitHub, GitLab 등과 손쉽게 연동되며, 정적 사이트뿐 아니라 React, Vue 같은 SPA도 지원됨.
- 기본적으로 HTTPS, 커스텀 도메인, 서버리스 함수, 폼 처리(백엔드 없이도 HTML 폼 데이터를 수집) 기능이 제공됨.

##### Netlify 접속
- <https://netlify.com>

##### 회원 가입
- 우측 상단의 `Sign up` 클릭
- `Sign up with GitHub` 선택

##### 프로젝트 생성
- 로그인 후 대시보드에서 `Add new project` > `Import and existing project` 클릭
- `GitHub` 선택
- project-vanilla-sample 레포지토리 선택후 `Install` 클릭
- project-vanilla-sample 선택
- Project name: febc15-board(다른 사람과 겹치지 않는 적당한 이름 입력)
- `Deploy febc15-board` 버튼 클릭해서 배포 시작

##### 접속
- 배포가 완료되면 보이는 주소를 클릭해서 접속
  + <https://febc15-board.netlify.app>
